from setuptools import setup, find_packages

# Force creation of a platform specific wheel
# https://stackoverflow.com/questions/24071491/how-can-i-make-a-python-wheel-from-an-existing-native-library

class BinaryDistribution(Distribution):
    """
    Distribution which always forces a binary package with platform name
    """
    def has_ext_modules(foo):
        return True
        
setup(
    name="mapscript",
    description = "MapServer Python MapScript bindings",
    author = "Steve Lime",
    license = "MIT",
    url="http://www.mapserver.org",
    version="@MapServer_VERSION_MAJOR@.@MapServer_VERSION_MINOR@",
    packages=find_packages(),
    package_data={'mapscript': '$<TARGET_FILE_NAME:@SWIG_MODULE_pythonmapscript_REAL_NAME@>'},
    distclass=BinaryDistribution    
)



#from setuptools import setup, find_packages
#
#setup(
#    name="mapscript",
#    description = "MapServer Python MapScript bindings",
#    author = "Steve Lime",
#    license = "MIT",
#    url="http://www.mapserver.org",
#    version="7.1",
#    packages=find_packages(),
#    include_package_data=True,
#    #package_dir={'': '_pythonmapscript', "mapscript", "D:/GitHub/mapserver/mapscript/python"},
#    package_data={'mapscript': ['_mapscript.pyd']}
#)